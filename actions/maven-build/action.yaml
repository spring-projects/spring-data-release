name: 'Maven Build'
description: 'Build a project with Maven'

inputs:
  run:
    description: 'Maven build command. Defaults to the verify goal'
    required: false
    default: './mvnw -Dsort -B -U -Pci clean dependency:list verify'
  additional-options:
    description: 'Additional Maven options to apply during the build'
    required: false
    default: ''

runs:
  using: composite
  steps:
    - shell: bash
      run: |
        ${{ inputs.run }} ${{ inputs.additional-options }}
    - name: Test Summary
      uses: test-summary/action@v2.2
      with:
        paths: '**/TEST-*.xml'
      if: always()
